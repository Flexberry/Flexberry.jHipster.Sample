# Тестирование
## JUnit 5
[JUnit 5](https://junit.org/junit5/) - один из наиболее популярных фреймворков для создания автоматического тестирования на основе модульных тестов.
Ориентирован на Java 8 и более поздние версии, но можете тестировать код, скомпилированный с помощью предыдущих версий JDK. 
Состоит из 3 модулей:
- **JUnit Platform** – основа для запуска на JVM фреймворков тестирования. Предоставляет TestEngine API, для разработки фреймворков тестирования, которые могут быть запущены на платформе. Содержит Console Launcher для запуска платформы с комнадной строки и JUnit Platform Suite Engine для запуска пользовательского набора тестов. Поодерживается в популярных IDE (IntelliJ IDEA , Eclipse , NetBeans и Visual Studio Code) и инструментах сборки (Gradle , Maven и Ant).
- **JUnit Jupiter** – служит для написания тестов и расширений JUnit 5. Позволяет запускать тесты на JUnit Platform.
- **JUnit Vintage** – позволяет запускать тесты JUnit 3 и JUnit 4. Необходимо, чтобы JUnit 4.12 или более поздняя версия присутствовала в пути к классу или модулю.

Возможности:
- игнорирование тест-кейсов
- совместное выполнение тестов
- тестирования исключений
- параметризованные модульные тесты
- тайм-аут тестов
- зависимые тесты
- управления порядком выполнения тестов
- настраиваемые описательные имена для классов и методов тестирования

Пример теста:
```java
import static org.junit.jupiter.api.Assertions.assertEquals;
import example.util.Calculator;
import org.junit.jupiter.api.Test;

class MyFirstJUnitJupiterTests {

    private final Calculator calculator = new Calculator();

    @Test
    void addition() {
        assertEquals(2, calculator.add(1, 1));
    }

}

```

Последние версии на момент написания:
- Platform [1.10.0-M1 от 13.05.2023](https://central.sonatype.com/artifact/org.junit.platform/junit-platform-testkit/1.10.0-M1/versions)
- Jupiter [5.10.0-M1 от 13.05.2023](https://central.sonatype.com/artifact/org.junit.jupiter/junit-jupiter-engine/5.10.0-M1/versions)
- Vintage [5.10.0-M1 от 13.05.2023](https://central.sonatype.com/artifact/org.junit.vintage/junit-vintage-engine/5.10.0-M1/versions)

Аналоги:
- [TestNG](https://testng.org/doc/), последнее исзменение на момент написания: 19.05.2022


## ArchUnit
[ArchUnit](https://www.archunit.org/) – бесплатная, достаточно простая и расширяемая библиотека для проверки архитектуры Java-кода с возможностью использования в среде модульного тестирования Java.

ArchUnit предоставляеи возможность создать правила для статических свойств архитектуры приложения в форме исполняемых тестов, т.е. создать следующие проверки:
- зависимостей пакетов
- зависимостей классов
- содержания классов и пакетов
- наследования
- аннотаций
- уровней
- циклов

ArchUnit состоит из следующих основных модулей: archunit, archunit-junit4, а также archunit-junit5-api, archunit-junit5-engine и archunit-junit5-engine-api. Таким образом, ArchUnit можно использовать в сочетание с JUnit 4 или JUnit 5.

Подключение ArchUnit происходит путём добавления соответствующих зависимостей.

Пример теста:
```java
@Test
public void Services_should_only_be_accessed_by_Controllers() {
    JavaClasses importedClasses = new ClassFileImporter().importPackages("com.mycompany.myapp");

    ArchRule myRule = classes()
        .that().resideInAPackage("..service..")
        .should().onlyBeAccessed().byAnyPackage("..controller..", "..service..");

    myRule.check(importedClasses);
}
```

Последние версия ArchUnit на момент написания: v1.0.1 от 21.11.2022.


## Источники
1. [JUnit 5 User Guide](https://junit.org/junit5/docs/current/user-guide/)
2. [Краткое сравнение JUnit и TestNG](https://habr.com/ru/companies/otus/articles/544770/)
3. [ArchUnit User Guide](https://www.archunit.org/userguide/html/000_Index.html)


